{"openapi":"3.0.3","info":{"title":"mb-mail-service","description":"","license":{"name":"GPL-2.0-or-later"},"version":"0.1.0"},"paths":{"/available_locales":{"get":{"tags":["crate"],"operationId":"available_locales","responses":{"200":{"description":"All available locales","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}},"example":["en","es"]}}}}}},"/healthcheck":{"get":{"tags":["crate"],"operationId":"healthcheck","responses":{"200":{"description":"","content":{"text/plain":{"schema":{"type":"string"},"example":"ok"}}}}}},"/send_bulk":{"post":{"tags":["crate::send"],"operationId":"send_mail_bulk_route","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SendItem"}}}},"required":true},"responses":{"200":{"description":"Bulk job ran successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SendResponse"}}}}}}}},"/send_single":{"post":{"tags":["crate::send"],"operationId":"send_mail_route","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendItem"}}},"required":true},"responses":{"200":{"description":"Email sent successfully"},"404":{"description":"Template was not found"}}}},"/templates/{template_id}/html":{"get":{"tags":["crate::render"],"operationId":"render_html_route_get","parameters":[{"name":"template_id","in":"path","description":"Template to render","required":true,"schema":{"type":"string"}},{"name":"lang","in":"query","description":"Language to render the template with","required":false,"schema":{"type":"string","nullable":true}}],"responses":{"200":{"description":"Template rendered successfully"},"404":{"description":"Template was not found"}}},"post":{"tags":["crate::render"],"operationId":"render_html_route_post","parameters":[{"name":"template_id","in":"path","description":"Template to render","required":true,"schema":{"type":"string"}},{"name":"lang","in":"query","description":"Language to render the template with","required":false,"schema":{"type":"string","nullable":true}}],"requestBody":{"content":{"application/json":{"schema":{}}},"required":true},"responses":{"200":{"description":"Template rendered successfully"},"404":{"description":"Template was not found"}}}},"/templates/{template_id}/text":{"get":{"tags":["crate::render"],"operationId":"render_text_route_get","parameters":[{"name":"template_id","in":"path","description":"Template to render","required":true,"schema":{"type":"string"}},{"name":"lang","in":"query","description":"Language to render the template with","required":false,"schema":{"type":"string","nullable":true}}],"responses":{"200":{"description":"Template rendered successfully"},"404":{"description":"Template was not found"}}},"post":{"tags":["crate::render"],"operationId":"render_text_route_post","parameters":[{"name":"template_id","in":"path","description":"Template to render","required":true,"schema":{"type":"string"}},{"name":"lang","in":"query","description":"Language to render the template with","required":false,"schema":{"type":"string","nullable":true}}],"requestBody":{"content":{"application/json":{"schema":{}}},"required":true},"responses":{"200":{"description":"Template rendered successfully"},"404":{"description":"Template was not found"}}}}},"components":{"schemas":{"SendItem":{"type":"object","description":"All the data needed to send a single email","required":["template_id","params"],"properties":{"from":{"type":"string","description":"Address to send mail from.","nullable":true},"lang":{"type":"string","description":"Language to render the template with","nullable":true},"params":{"description":"Data to pass to the template"},"template_id":{"type":"string","description":"Template to send"},"to":{"type":"string","description":"Address to send mail to.","nullable":true}}},"SendResponse":{"oneOf":[{"type":"object","required":["t","c"],"properties":{"c":{"type":"object","required":["code","message"],"properties":{"code":{"type":"integer","format":"int32","minimum":0},"message":{"type":"string"}}},"t":{"type":"string","enum":["Success"]}}},{"type":"object","required":["t","c"],"properties":{"c":{"type":"object","required":["message"],"properties":{"message":{"type":"string"}}},"t":{"type":"string","enum":["Error"]}}}],"discriminator":{"propertyName":"t"}}}},"tags":[{"name":"mb-mail-service","description":"MusicBrains Mail Service API"}]}